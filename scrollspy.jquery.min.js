/**!
 * Extend jquery with a scrollspy plugin.
 * This watches elements and fires events when they are scrolled partially into viewport.
 *
 * throttle() and getTime() taken from Underscore.js
 * https://github.com/jashkenas/underscore
 *
 * @author Copyright 2013 John Smart
 * @license https://raw.github.com/thesmart/jquery-scrollspy/master/LICENSE
 * @see https://github.com/thesmart
 * @version 0.2.0
 */
!function(t){var r,n,e,o,i,l,u,a,f,p,c,s;n=200,r=t(window),s=0,u=function(){var t;return t="uid-"+s,s+=1,t},/*
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 */
  l=Date.now||function(){return(new Date).getTime()},/*
 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
 */
  p=function(t,r,n){var e,o,i,u,a,f;return null==n&&(n={}),o=void 0,e=void 0,a=void 0,f=null,u=0,i=function(){u=n.leading===!1?0:l(),f=null,a=t.apply(o,e),o=e=null},function(){var p,c;return p=l(),u||n.leading!==!1||(u=p),c=r-(p-u),o=this,e=arguments,c>0||(clearTimeout(f),f=null,u=p,a=t.apply(o,e),o=e=null),f||n.trailing===!1||(f=setTimeout(i,c)),a}},a=function(r,n,e,o){var i,l;return(i=r.data("scrollSpy:onSlow:"+n))?(i.push(e),this):(i=[e],r.data("scrollSpy:onSlow:"+n,i),l=p(function(){return t.each(i,function(t,r){return r.call(),!0})},o),void r.on(n,l))},c=function(){var t;return t={},t.top=r.scrollTop(),t.left=r.scrollLeft(),t.bottom=t.top+r.height(),t.right=t.left+r.width(),t},f=function(r){var n,e,o;return e=r.offset(),o=r.css(["paddingTop","paddingRight","paddingBottom","paddingLeft"]),t.each(o,function(t,r){return o[t]=r?parseFloat(r.slice(0,-2)):0,isNaN(o[t])?o[t]=0:void 0}),n={},n.top=e.top+o.paddingTop,n.left=e.left+o.paddingLeft,n.right=n.left+r.width(),n.bottom=n.top+r.height(),n},i=function(t){var r,n;return n=t.offset(),r={},r.top=n.top,r.left=n.left,r.right=r.left+t.outerWidth(),r.bottom=r.top+t.outerHeight(),r},o=function(t,r){return t.left<r.right&&t.right>r.left&&t.top<r.bottom&&t.bottom>r.top},e=function(n,e,l){return function(){var u,a;return e===r?(u=t(l),a=c()):("string"==typeof l?u=e.find(l):l&&(u=t(l)),a=f(e)),u.each(function(r,e){var l,u,f,p;l=t(e),f=l.data("scrollSpy:"+n),u=i(l),p=o(a,u),l.data("scrollSpy:"+n,p),p&&!f?l.triggerHandler("scrollSpy:enter"):f&&!p&&l.triggerHandler("scrollSpy:exit")}),!0}},t.scrollSpy=function(o,i){var l,f,p,c;return null==i&&(i={}),i.throttle||(i.throttle=n),l=i.parent?i.parent===window?r:i.parent.length&&i.parent[0]===window?r:t(i.parent).first():r,"string"==typeof o?f=l.find(o):(f=t(o),o=f),c=u(),p=e(c,l,o),setTimeout(function(){a(l,"scroll",p,i.throttle),a(r,"resize",p,i.throttle),p()},1),f},t.fn.scrollSpy=function(r,n){return null==n&&(n={}),this.each(function(e,o){return n.parent=o,t.scrollSpy(r,n)}),this},t.resizeSpy=function(e){return t.resizeSpy=function(){return r},e.throttle||(e.throttle=n),a(r,"resize",function(){return r.triggerHandler("resizeSpy:resize"),r.triggerHandler("scrollSpy:resize")},e.throttle),r}}(jQuery);